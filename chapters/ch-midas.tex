\newpage
\chapter{MIDAS}
\label{chap:mc}
\workTodo{In diesem Kapitel werden grundlegende Themen behandelt, die im Rahmen des Forschungsprojekts zum Verständnis der Ausreißer-Erkennung in Graphen gedient haben.}

Erst erklären wie der MIDAS funktioniert. Und zum Laufen gebracht mit Graphen über die Zeit ENRON \& DARPA. Im Anschluss auf Zeitreihendaten angewendet.

\section{Grundlagen}
\label{sec:mc-gl}
\workTodo{Einführung in den Algorithmus}


\subsection{Count-min Sketch}
\label{sec:mc-gl-cms}

\subsubsection{Einführung}
\label{sec:mc-gl-cms-in}

\workTodo{Stichworte sammeln}

\section{Ergebnisse Ausreißererkennung in Zeitreihen}
Wie in \autoref{chap:trsnsMidas} beschrieben muss die Zeitreihe zunächst in verschiedene Netzwerke umgewandelt werden. In \autoref{img:midasTSresults} ist das Ergebnis der Ausreißererkennung mit Midas abgebildet. Der Ausreißer wird von dem Algorithmus identifiziert, jedoch ist der Verlauf des Ausreißer Scores schwierig zu interpretieren. Es ist zu erkennen, das zu beginn jedes Abschnittes der Ausreißer Score sehr hoch ist und am Ende niedrig(Ausnahme Abschnitt mit Ausreißer). Grund hierfür ist, das der Algorithmus die Anzahl der Kanten in einem Abschnitt mit der Anzahl an Katen aus vorherigen Abschnitten vergleicht. Zu Beginn eines jeden Abschnitts ist die Anzahl an Kanten deutlich geringer, deshalb ist der Ausreißer Score auch höher. Am Ende eines Abschnitts ist die Anzahl an Kanten in Relation identisch, deshalb ist der Ausreißer Score höher. Der Abschnitt in welchem sich der Ausreißer befindet ist deutlich größer als die anderen Abschnitte. Der Grund hierfür ist, das die Anzahl an Kanten deutlich höher ist als in den anderen Abschnitten. Für jede Kante wird ein zusätzliches Element zum Ausreißer Score hinzugefügt. Da Kantengewichte in dem Abschnitt mit dem Ausreißer deutlich größer sind, resultiert dies in deutlich mehr Kanten. 
\label{sec:resultsOTs}

\begin{figure}[h]
	\centering
	\subfloat[Caption for sub-figure1]{
		\includegraphics[width=0.5\textwidth]{fig/resultsMidasTS/art_daily_jumpsup_MIDAS_hdrei_labeled_result.png}}
	\subfloat[Caption for sub-figure1]{
		\includegraphics[width=0.5\textwidth]{fig/resultsMidasTS/result_without_midas.png}}
	\caption{Vergelich Perculation Algorithmus mit Sliding Window Verfahren und ohne Sliding Window Verfahren}
	\label{img:midasTSresults}
\end{figure}

Da der Midas Algorithmus lediglich die Anzahl an Kanten zwischen zwei Knoten zählt um Ausreißer zu erkennen, verglichen wir den Midas Algorithmus mit einem naiven Algorithmus der lediglich die Gesamtanzahl an Knoten in einem Abschnitt zählt. Es konnte festgestellt werden, dass der naive Ansatz den Midas Algorithmus mithalten kann. Aus diesem Grund wurden keinerlei weitere Datensätze untersucht. 
\workTodo{Vielleicht den Algorithmus einmal auf einzelne Peaks testen vielleicht bringt das was.}
\label{sec:resultTSwithoutMidas}

\begin{figure}[h]
	\centering
	\subfloat[Caption for sub-figure1]{
		\includegraphics[width=0.5\textwidth]{fig/resultsMidasTS/art_daily_flatmiddle_MIDAS_hdrei_labeled_result.png}}
	\subfloat[Caption for sub-figure1]{
		\includegraphics[width=0.5\textwidth]{fig/resultsMidasTS/anomaly_art_daily_sequence_change_MIDAS_hdrei_labeled_result.png}}
	\caption{Vergelich Perculation Algorithmus mit Sliding Window Verfahren und ohne Sliding Window Verfahren}
	\label{img:midasTSresults}
\end{figure}

Der Algorithmus funktioniert lediglich bei einem Ausschlag nach oben, weil der Ausschlag nach oben zu großen Gewichten innerhalb des Netzes führt. Die großen Gewichte führen zu vielen Kanten in den Daten was dan zu einem Anstieg des Ausreißer Scores führt.

Bei anderen Ausreißer Typen ist teilweiße das genenteil der Fall, wie in 4.2a. Hier gibt es in dem Abschnitt mit dem Ausreißer nur sehr geringe Kantengewichte. Das führt sehr wenigen Kanten in den Daten. Jedoch schlägt der Ausreißer Score nicht stark aus. In 4.2b ist der Abschnitt ein bisschen größer.

\begin{figure}[h]
	\centering
	\subfloat[Caption for sub-figure1]{
		\includegraphics[width=0.5\textwidth]{fig/resultsMidasTS/anomaly_art_daily_sequence_change_MIDAS_hdrei_labeled_110_result.png}}	
	\subfloat[Caption for sub-figure1]{
		\includegraphics[width=0.5\textwidth]{fig/resultsMidasTS/art_daily_jumpsup_MIDAS_hdrei_labeled_110_result.png}}
	\caption{Vergelich Perculation Algorithmus mit Sliding Window Verfahren und ohne Sliding Window Verfahren}
	\label{img:midasTSresults}
\end{figure}


Die Veränderung der Fenstergröße nutzt nur Bedingt etwas. Für den Ausreißer nach oben werden die ausschläge im Ausreißer Score noch deutlicher. Alle anderen funktionieren weiterhin nicht.

\begin{figure}[h]
	\centering
	\subfloat[lol]{
		\includegraphics[width=0.5\textwidth]{fig/reultsMidasR/art_daily_jumpsdown_MIDAS_R_red_est_result}}
	\subfloat[lol]{
		\includegraphics[width=0.5\textwidth]{fig/reultsMidasR/art_daily_jumpsup_MIDAS_R_red_est_result}}
	\caption{Vergelich Perculation Algorithmus mit Sliding Window Verfahren und ohne Sliding Window Verfahren}
	\label{img:midasTSresults}
\end{figure}

Auch der Midas R Algorithmus führt nicht zu einer verbesserung der Ergebnisse. Der eine Ausreißer wird eriterhin erkannt. Alle anderen Ausreißer Typen werden nicht erkannt. 

