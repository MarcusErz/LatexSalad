\newpage
\chapter{Netsimile}
\label{chap:ns}
\workTodo{In diesem Kapitel werden grundlegende Themen behandelt, die im Rahmen des Forschungsprojekts zum Verständnis der Ausreißer-Erkennung in Graphen gedient haben.}

\section{Grundlagen}
\label{sec:ns-gl}
\workTodo{Einführung in den Algorithmus}


\subsection{Canberra Distance}
\label{sec:ns-gl-cd}

\subsubsection{Einführung}
\label{sec:ns-gl-cd-int}

\workTodo{Stichworte sammeln}

\section{Ergebnisse Ausreißer-Erkennung in Zeitreihen}
\label{sec:resultsTS}
\workTodo{Bin mir nicht sicher ob ich meine Implementierung vom Netsimile genauer erklären soll. Vielleicht sollte ich auf jeden Fall darauf eingehen wie bestimmt wird ob ein Ausreißer ein Ausreißer ist. Damit das auch für die Parameter verständlich ist.}

\workTodo{Noch Parameter des ganzen erläutern und erklären wie bestimmt wird, ob ein Element ein Ausreißer ist oder nicht. Es muss auch noch das mit der Periodicität mit rein.}

\workTodo{Wie genau wurde Netismile optimiert???. Vielleicht noch bisschen genauer darauf eingehen welche Features ich verwendet habe.}

Unter Verwendung der Netsimile Implementierung von ..., benötigte die Ausführung des Algorithmus teilweise bis zu 30 Minuten. Aus diesem Grund wurde der Algorithmus von uns neu implementiert.  Die Laufzeit konnte dabei auf wenige Sekunden reduziert werden, indem keine Graphen Bibliothek für die Implementierung verwendet wurde. Das heißt die Netzwerke der Zeitreihe werden nicht in ein Graphen Objekt umgewandelt, sondern als Adjazenzmatrix gespeichert. Dadurch können die Features deutlich effizienter berechnet werden. Des Weiteren wurden einige Features neu eingeführt und andere entfernt, sodass lediglich Features verwendet werden die für Fully Connected Graphen geeignet sind. So hat beispielsweise das Feature durchschnittliche Anzahl an Nachbarknoten keine Aussagekraft in einem Fully Connected Netzwerk, da jeder Knoten die gleiche Anzahl an Nachbarn hat. Anstelle dieses Features wurde im optimierten Algorithmus das durchschnittliche Kantengewicht eines Knoten als Feature verwendet. \workTodo{Wie war das im orginalen Algorithmus. Hab ich das wirklich verändert}. Ein weiterer Aspekt der geändert wurde ist, das die Canbarra Distanz nicht zu allen vorherigen Zeitabschnitten berechnet wird. Dadurch wird einerseits die benötigte Rechenzeit verringert und andererseits wird ermöglicht das der Algorithmus dinge vergessen kann und sich an einen neuen Stand anpasst.   

Als Testdaten   wurden, ein und zweidimensionale Zeitreihen der Numenta Gruppe verwendet. Diese Zeitreihen enthalten verschiedene Ausreißer Typen, auf deren Erkennung der Algorithmus getestet wurde. Die Qualität der Ausreißererkennung wurde  mithilfe eines Punktesystem bewertet. Dabei bedeuteten 0 Punkte, Ausreißer nicht erkannt und 4 Punkte bedeuteten Ausreißer sehr gut erkannt. Die Parameter, welche für die Tests gewählt werden mussten, werden in \autoref{table:parmeterNeti} beschrieben.\\

\begin{table}
	\caption{Parameter Netismile Zeitreihen}
	\label{table:parmeterNeti}
	\begin{tabular}{ |p{3cm}||p{12cm}|}
		\hline
		\textbf{Parameter}& \textbf{Beschreibung}\\
		\hline
		\hline
		Periodizität & Wie in \autoref{chap:trsnsNeti} erläutert muss die Zeitreihe in kleinere Intervalle aufgegliedert werden. Über diesen Parameter wird die Größe der Intervalle gesteuert. Für die Tests wurde der Parameter auf 288 gesetzt, da es sich hierbei um die Saisonalität der Zeitreihen handelt.\\
		\hline
		Fenstergröße & Bestimmt die Anzahl der vorangegangenen Abschnitte zu welchen die Canberra Distanz berechnet wird. Dieser Parameter wurde für die Tests auf 5 gesetzt. Da der Algorithmus auch in der Lage sein sollte zu vergessen kann die Canberra Distanz nicht zu allen vorherigen Abschnitten berechnet werden.\\
		\hline
		Abweichung & Legt fest ab wann es sich bei einem Abschnitt um einen Ausreißer handelt. Der Parameter wurde für die Tests auf 3 gesetzt. Bedeutet wenn der Ausreißer Score um das dreifache der Standardabweichung vom Durchschnitt abweicht, wird der Abschnitt als Ausreißer gekennzeichnet.\\
		\hline
	\end{tabular}
\end{table}

 
\begin{table}
\caption{Netsimile Time Series Perfomance}
\label{table:performanceNeti}
\begin{tabular}{ |p{4.5cm}||p{4.5cm}||p{3cm}||p{3cm}|}
	\hline
	\textbf{Ausreißer Typ}& \textbf{Datei Name}&
	\textbf{1D}&\textbf{2D}\\
	\hline
	\hline
	Einzelne Peaks & anomaly-art-daily-peaks & -& -\\
	\hline
	Zunahme an Rauschen & anomaly-art-daily-increase-noise &****& ***\\
	\hline
	Signal Drift & anomaly-art-daily-drift &***& -\\
	\hline
	Kontinuierliche Zunahme der Amplitude& art-daily-amp-rise & ***& ***\\
	\hline
	Zyklus mit höherer Amplitude & art-daily-jumpsup &****& *\\
	\hline
	Zyklus mit geringerer Amplitude & art-daily-jumpsdown & ****& -\\
	\hline
	Zyklus-Aussetzer & art-daily-flatmiddle &****& ***\\
	\hline
	Signal-Aussetzer & art-daily-nojump & ****& ***\\
	\hline
	Frequenzänderung & anomaly-art-daily-sequence-change &****& ***\\
	\hline
\end{tabular}
\end{table}

\autoref{table:performanceNeti} zeigt die Ergebnisse der Tests. Es ist zu erkennen, dass die Qualität der Ausreißer-Erkennung im eindimensionalen Fall sehr gut ist. Lediglich einzelne Peaks können durch den Algorithmus nicht als Ausreißer identifiziert werden. Außerdem wird bei Signal Drifts und der kontinuierlichen Zunahme der Amplitude lediglich der Anfang des Ausreißers detektiert. Aus diesem Grund wurde eine Bewertung mit drei Sternen vergeben. Bei der Betrachtung der Graphiken in ... ist zu erkennen, dass das sechste oder siebte Intervall der Zeitreihe häufig als Ausreißer markiert wird. Der Grund hierfür ist, das bei einer Fenstergröße von fünf für die ersten fünf Abschnitte kein Ausreißer Score berechnet wird. Dadurch ist die Standardabweichung zu Beginn sehr niedrig wodurch Abschnitte schnell als Ausreißer gekennzeichnet werden. Dieser Umstand wurde bei der Bewertung in \autoref{table:performanceNeti} nicht berücksichtigt. Im zweidimensionalen Fall ist die Qualität der Ausreißer-Erkennung etwas durchwachsener. Auffallend ist, dass Zyklen mit höherer und niedriger Amplitude nicht als Ausreißer erkannt werden können. Insbesondere ist dies auffällig, da diese Ausreißer Typen üblicherweise zuverlässig erkannt werden \autoref{sec:rw-gl}.  Außerdem ist der Algorithmus im zweidimensionalen Fall nicht mehr dazu in der Lage Signal Drifts zu erkennen. Andere Ausreißer Typen können durch den Algorithmus weiterhin erkannt werden, jedoch oftmals nicht mit der selben Qualität. 

